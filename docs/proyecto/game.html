<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Montacargas Runner</title>
  <link rel="stylesheet" href="./game.css"/>
</head>
<body>
 <header class="topbar">
  <h1>🏭 Montacargas Runner</h1>
  <div class="controls">
    <label class="skin-control">
      Skin:
      <select id="skin-select">
        <option value="cyan">Cyan Classic</option>
        <option value="amber">Amber Heavy</option>
        <option value="lime">Lime Retro</option>
        <option value="pink">Pink Neon</option>
      </select>
    </label>

    <label class="rule-control" title="Si haces este número de saltos 'malos' seguidos, la señora te alcanza.">
      Fallos seguidos (X):
      <input id="fail-cap" type="number" min="2" max="12" step="1" value="5" style="width:60px">
    </label>

    <button id="mute-btn" aria-pressed="false" title="Silencio/sonido (M)">🔊</button>
    <button id="pause-btn" aria-pressed="false" title="Pausar/Reanudar (P)">⏯</button>
    <button id="restart-btn" title="Reiniciar (R)">🔄</button>
    <span class="hint">Espacio/↑ salta • Toque en móvil</span>
  </div>
</header>

  <main class="wrap">
    <section class="stage">
      <canvas id="game" width="960" height="320" aria-label="Escenario del juego"></canvas>
      <div id="hud" role="status" aria-live="polite"></div>
    </section>

    <section class="leader">
      <h3>🏆 Leaderboard</h3>
      <ol id="leader-list"></ol>
    </section>
  </main>

  <div id="overlay" role="dialog" aria-modal="true" aria-labelledby="go-title" hidden>
    <div class="dialog">
      <h2 id="go-title">¡Game Over!</h2>
      <p id="final-info">Puntaje: 0 • Nivel: 1 • Máximo: 0</p>
      <form id="save-form" autocomplete="off">
        <input id="player-name" maxlength="16" required placeholder="Tu nombre"/>
        <button type="submit" class="primary">Guardar puntuación</button>
      </form>
      <button id="overlay-restart" class="ghost">Reiniciar (R)</button>
    </div>
  </div>

  <footer class="foot">
    <small>Hecho con ♥ — Controles: Espacio/↑ para saltar, P pausa, R reinicia.</small>
  </footer>

  <!-- Solo este script: game.js importa api.js dinámicamente -->
  <script type="module" src="./game.js"></script>
</body>
</html>
